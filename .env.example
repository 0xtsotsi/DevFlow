# Automaker Project Configuration
# Copy this file to .env and configure your settings

# ============================================
# Beads UI Configuration (OPTIONAL)
# ============================================

# Path to the bd binary (optional, beads-ui usually auto-detects)
# Only needed if bd is not in your standard PATH
# BD_BIN=/home/oxtsotsi/.local/bin/bd

# Override runtime directory for beads-ui PID/logs (optional)
# Defaults to $XDG_RUNTIME_DIR/beads-ui or system temp dir
# BDUI_RUNTIME_DIR=/tmp/beads-ui

# Beads UI server bind address (default: 127.0.0.1)
# HOST=127.0.0.1

# Beads UI server port (default: 3000)
# Note: This may conflict with other services running on port 3000
# PORT=3000

# Enable debug logging for beads-ui (optional)
# DEBUG=beads-ui:*

# ============================================
# Automaker Server Configuration
# ============================================

# Your Anthropic API key for Claude models
ANTHROPIC_API_KEY=sk-ant-...

# API key for authenticating requests (leave empty to disable auth)
# If set, all API requests must include X-API-Key header
AUTOMAKER_API_KEY=

# Root directory for projects and file operations
# If set, users can only create/open projects and files within this directory
# Recommended for sandboxed deployments (Docker, restricted environments)
# Example: ALLOWED_ROOT_DIRECTORY=/projects
ALLOWED_ROOT_DIRECTORY=

# CORS origin - which domains can access the API
# Use "*" for development, set specific origin for production
CORS_ORIGIN=*

# Port to run the Automaker server on (default: 3008)
PORT=3008

# Data directory for sessions and metadata
DATA_DIR=./data

# Enable/disable terminal access (default: true)
TERMINAL_ENABLED=true

# Password to protect terminal access (leave empty for no password)
# If set, users must enter this password before accessing terminal
TERMINAL_PASSWORD=

# Enable request logging (default: false)
ENABLE_REQUEST_LOGGING=false

# ============================================
# Sentry Logging Configuration (OPTIONAL)
# ============================================

# Sentry DSN (Data Source Name) - required for Sentry to work
# Get this from your Sentry project settings > Client Keys (DSN)
# Format: https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_DSN=

# UI Sentry DSN (REQUIRED IN PRODUCTION)
# Get this from your Sentry project settings > Client Keys (DSN)
# Format: https://examplePublicKey@o0.ingest.sentry.io/0
# SECURITY WARNING: Never commit your actual DSN to the repository
VITE_SENTRY_DSN=

# Enable/disable Sentry (default: auto-enabled when SENTRY_DSN is set)
# Set to 'false' to disable Sentry even if DSN is provided
SENTRY_ENABLED=true

# Environment name for Sentry (default: development, production in NODE_ENV=production)
SENTRY_ENVIRONMENT=development

# Sentry Authentication Token (for MCP integration)
# Get this from: Sentry > User Settings > Auth Tokens
# Required for: get_sentry_issue, search_sentry_issues, analyze_issue_with_seer tools
SENTRY_AUTH_TOKEN=

# Sentry Organization Slug (for MCP integration)
# Get this from your Sentry organization URL: https://sentry.io/organizations/{org-slug}/
SENTRY_ORG=

# Sentry Project Slug (for MCP integration)
# Get this from your Sentry project URL: https://sentry.io/organizations/{org}/projects/{project}/
SENTRY_PROJECT=

# Sentry MCP Cache TTL in milliseconds (default: 300000 = 5 minutes)
SENTRY_MCP_CACHE_TTL=300000

# Sentry MCP Max Cache Entries (default: 100)
SENTRY_MCP_CACHE_MAX_ENTRIES=100

# ============================================
# Sentry Tracing Configuration (OPTIONAL)
# ============================================

# Legacy: Single sample rate for all transactions (deprecated, use SENTRY_TRACES_SAMPLER_DEFAULT_RATE)
# Percentage of transactions to sample for performance monitoring (0.0 to 1.0)
# 1.0 = 100% (all transactions), 0.1 = 10% of transactions
SENTRY_TRACES_SAMPLE_RATE=0.1

# Server: Default sample rate for most transactions (0.0 to 1.0)
# Used for transactions that don't match specific categories (agent, health checks, etc.)
SENTRY_TRACES_SAMPLER_DEFAULT_RATE=0.1

# Server: Sample rate for agent/LLM/pipeline transactions (0.0 to 1.0)
# These transactions are critical for debugging, so default is 1.0 (100%)
SENTRY_TRACES_SAMPLER_AGENT_RATE=1.0

# Server: Sample rate for health check transactions (0.0 to 1.0)
# Health checks are high-volume and low-value, so default is 0.0 (disabled)
SENTRY_TRACES_SAMPLER_HEALTH_RATE=0.0

# UI: Comma-separated list of URLs/regex patterns for trace propagation
# Controls which downstream requests receive trace headers for distributed tracing
# Supports plain URLs and regex patterns
# Examples:
#   VITE_SENTRY_TRACE_PROPAGATION_TARGETS=/^\/api/,https://api.example.com
#   VITE_SENTRY_TRACE_PROPAGATION_TARGETS=https://backend.example.com
# Leave empty for defaults: all /api routes and local paths
# VITE_SENTRY_TRACE_PROPAGATION_TARGETS=

# UI: Default sample rate for UI transactions (0.0 to 1.0)
# Falls back to VITE_SENTRY_TRACES_SAMPLE_RATE for backward compatibility
VITE_SENTRY_TRACES_SAMPLER_DEFAULT_RATE=0.1

# ============================================
# Sentry Error Replay Configuration (UI ONLY)
# ============================================

# For UI: Percentage of errors to record session replay for (0.0 to 1.0)
# 1.0 = 100% (all errors), 0.0 = disabled
SENTRY_ERROR_REPLAY_SAMPLE_RATE=1.0

# ============================================
# Git Network Configuration (OPTIONAL)
# ============================================

# Git HTTP timeout in seconds (default: 600 = 10 minutes)
# Applies to Git operations over HTTP/HTTPS
# GIT_HTTP_TIMEOUT=600

# Git HTTP post buffer size in bytes (default: 524288000 = 500MB)
# Larger buffer helps with slow networks and large repositories
# GIT_HTTP_POST_BUFFER=524288000

# GitHub CLI timeout in milliseconds (default: 60000 = 1 minute)
# Applies to all 'gh' commands (issue list, PR create, etc.)
# GH_CLI_TIMEOUT=60000

# Maximum retry attempts for failed Git/GitHub CLI operations (default: 3)
# Uses exponential backoff: 1s, 2s, 4s, ...
# GIT_MAX_RETRIES=3
